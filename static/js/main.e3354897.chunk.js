(this["webpackJsonptest-project"]=this["webpackJsonptest-project"]||[]).push([[0],{11:function(e,t,n){e.exports={availableListItem:"BikesListItem_availableListItem__iJPBq",nameTag:"BikesListItem_nameTag__MKdL_",name:"BikesListItem_name__z9P7A",id:"BikesListItem_id__2VmJz",statusCaption:"BikesListItem_statusCaption__2vwYW",statusSelect:"BikesListItem_statusSelect__2M1hK",price:"BikesListItem_price__2opKV",btnDelete:"BikesListItem_btnDelete__2yJf9",btnDeleteIcon:"BikesListItem_btnDeleteIcon__30JLe"}},20:function(e,t,n){e.exports={footer:"Footer_footer__2nkco",footerText:"Footer_footerText__3FgyC",nameDev:"Footer_nameDev__1GHTR"}},33:function(e,t,n){e.exports={bikeList:"BikesList_bikeList__1xVJe"}},34:function(e,t,n){e.exports={header:"Header_header__3D--g"}},42:function(e,t,n){},43:function(e,t,n){},6:function(e,t,n){e.exports={form:"FormAddBike_form__vfJwm",formInput:"FormAddBike_formInput__2WZsd",formTextarea:"FormAddBike_formTextarea__2ibIH",formBtn:"FormAddBike_formBtn__1bT-G",margin:"FormAddBike_margin__KBXAt"}},68:function(e,t,n){"use strict";n.r(t);var r,a,c,s=n(1),i=n.n(s),u=n(15),o=n.n(u),l=n(3),p=n(12),b=n(4),d=n(36),j=n(10),h=Object(l.b)("getAllBikeRequest"),f=Object(l.b)("getAllBikeSuccess"),v=Object(l.b)("getAllBikeError"),m=Object(l.b)("addNewBikeRequest"),O=Object(l.b)("addNewBikeSuccess"),x=Object(l.b)("addNewBikeError"),k=Object(l.b)("updateBikeRequest"),_=Object(l.b)("updateBikeSuccess"),g=Object(l.b)("updateBikeError"),y=Object(l.b)("deleteBikeRequest"),B=Object(l.b)("deleteBikeSuccess"),w=Object(l.b)("deleteBikeError"),N=Object(l.c)([],(r={},Object(b.a)(r,f,(function(e,t){return t.payload})),Object(b.a)(r,O,(function(e,t){var n=t.payload;return[].concat(Object(d.a)(e),[n])})),Object(b.a)(r,_,(function(e,t){var n=t.payload,r=e.findIndex((function(e){return e.id===n.result.id}));-1!==r&&(e[r]=n.result)})),Object(b.a)(r,B,(function(e,t){var n=t.payload,r=e.findIndex((function(e){return e._id===n}));-1!==r&&e.splice(r,1)})),r)),I=Object(l.c)(!1,(a={},Object(b.a)(a,h,(function(){return!0})),Object(b.a)(a,f,(function(){return!1})),Object(b.a)(a,v,(function(){return!1})),Object(b.a)(a,y,(function(){return!0})),Object(b.a)(a,B,(function(){return!1})),Object(b.a)(a,w,(function(){return!1})),a)),C=Object(l.c)(null,(c={},Object(b.a)(c,v,(function(e,t){return t.payload})),Object(b.a)(c,x,(function(e,t){return t.payload})),c)),L=Object(j.b)({bikes:N,loading:I,error:C}),S=Object(l.d)(p.a),A=Object(l.a)({reducer:{bikes:L},middleware:S}),E=(n(42),n(43),n(19)),D=n(23),T=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},n=Object(s.useState)(e),r=Object(E.a)(n,2),a=r[0],c=r[1],i=function(e){var t=e.target,n=t.name,r=t.value;c(Object(D.a)(Object(D.a)({},a),{},Object(b.a)({},n,r)))},u=function(e){e.preventDefault(),t(a),o()};function o(){c(e)}return[a,i,u]},q={id:"",name:"",type:"",color:"",wheelSize:"",price:"",description:""},R=n(6),F=n.n(R),J=n(7),U=n(0);var M=n(2),z=n.n(M),K=n(5),P=n(17),H=n(18),V=n(37),W=n(35),G=n(14),Z=n.n(G),X="api/v1/bikes",Y=new(function(e){Object(V.a)(n,e);var t=Object(W.a)(n);function n(){return Object(P.a)(this,n),t.apply(this,arguments)}return Object(H.a)(n,[{key:"getAllBike",value:function(){var e=Object(K.a)(z.a.mark((function e(t){var n;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.get(t);case 3:return n=e.sent,e.abrupt("return",n);case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"addBike",value:function(){var e=Object(K.a)(z.a.mark((function e(t,n){var r;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.post(t,n);case 3:return r=e.sent,e.abrupt("return",r);case 7:throw e.prev=7,e.t0=e.catch(0),e.t0;case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateBike",value:function(){var e=Object(K.a)(z.a.mark((function e(t,n,r){var a;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.patch(t,n,r);case 3:return a=e.sent,e.abrupt("return",a);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"deleteBike",value:function(){var e=Object(K.a)(z.a.mark((function e(t,n){var r;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.delete(t,n);case 3:return r=e.sent,e.abrupt("return",r);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}()}]),n}(function(){function e(){Object(P.a)(this,e),this.BASE_URL="https://backand-bikes.herokuapp.com"}return Object(H.a)(e,[{key:"get",value:function(){var e=Object(K.a)(z.a.mark((function e(){var t,n,r,a=arguments;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:"",e.prev=1,e.next=4,Z.a.get("".concat(this.BASE_URL,"/").concat(t));case 4:return n=e.sent,r=n.data,e.abrupt("return",r);case 9:return e.prev=9,e.t0=e.catch(1),e.abrupt("return",this.handleError(e.t0));case 12:case"end":return e.stop()}}),e,this,[[1,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"post",value:function(){var e=Object(K.a)(z.a.mark((function e(){var t,n,r,a,c=arguments;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:"",n=c.length>1?c[1]:void 0,e.prev=2,e.next=5,Z.a.post("".concat(this.BASE_URL,"/").concat(t),n);case 5:return r=e.sent,a=r.data,e.abrupt("return",a);case 10:throw e.prev=10,e.t0=e.catch(2),this.handleError(e.t0);case 13:case"end":return e.stop()}}),e,this,[[2,10]])})));return function(){return e.apply(this,arguments)}}()},{key:"patch",value:function(){var e=Object(K.a)(z.a.mark((function e(){var t,n,r,a,c,s=arguments;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.length>0&&void 0!==s[0]?s[0]:"",n=s.length>1?s[1]:void 0,r=s.length>2?s[2]:void 0,e.prev=3,e.next=6,Z.a.patch("".concat(this.BASE_URL,"/").concat(t,"/").concat(r),n);case 6:return a=e.sent,c=a.data,e.abrupt("return",c);case 11:e.prev=11,e.t0=e.catch(3),this.handleError(e.t0);case 14:case"end":return e.stop()}}),e,this,[[3,11]])})));return function(){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Object(K.a)(z.a.mark((function e(){var t,n,r,a,c=arguments;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:"",n=c.length>1?c[1]:void 0,e.prev=2,e.next=5,Z.a.delete("".concat(this.BASE_URL,"/").concat(t,"/").concat(n));case 5:return r=e.sent,a=r.data,e.abrupt("return",a);case 10:e.prev=10,e.t0=e.catch(2),this.handleError(e.t0);case 13:case"end":return e.stop()}}),e,this,[[2,10]])})));return function(){return e.apply(this,arguments)}}()},{key:"handleError",value:function(e){if(401!==e.response.data.statusCode)throw e}}]),e}())),Q=function(e){return e.bikes.bikes},$=function(e){return e.bikes.loading},ee=function(e){return e.bikes.error};var te=function(){var e=Object(J.b)(),t=Object(J.c)(ee),n=Object(s.useCallback)((function(t){return e((n=t,function(){var e=Object(K.a)(z.a.mark((function e(t){var r,a,c;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(m()),e.prev=1,e.next=4,Y.addBike("api/v1/bikes",n);case 4:r=e.sent,a=r.data.result,t(O(a)),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),c=e.t0.response.data.message,t(x(c));case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()));var n}),[]),r=T(q,n),a=Object(E.a)(r,3),c=a[0],i=a[1],u=a[2];return Object(U.jsxs)("div",{style:{padding:"10px"},children:[t&&Object(U.jsx)("p",{children:t}),Object(U.jsxs)("form",{onSubmit:u,className:F.a.form,children:[Object(U.jsx)("input",{className:"".concat(F.a.formInput," ").concat(F.a.margin),onChange:i,placeholder:"Name",type:"text",name:"name",value:c.name,required:!0}),Object(U.jsx)("input",{className:F.a.formInput,onChange:i,placeholder:"Type",type:"text",name:"type",value:c.type,required:!0}),Object(U.jsx)("input",{className:"".concat(F.a.formInput," ").concat(F.a.margin),onChange:i,placeholder:"Color",type:"text",name:"color",value:c.color,required:!0}),Object(U.jsx)("input",{className:F.a.formInput,onChange:i,placeholder:"Wheel size",type:"number",name:"wheelSize",value:c.wheelSize,required:!0}),Object(U.jsx)("input",{className:"".concat(F.a.formInput," ").concat(F.a.margin),onChange:i,placeholder:"Price",type:"number",name:"price",value:c.price,required:!0}),Object(U.jsx)("input",{className:F.a.formInput,onChange:i,placeholder:"ID (slug): \u0425\u0425\u0425\u0425\u0425\u0425\u0425\u0425\u0425\u0425\u0425\u0425\u0425",type:"number",name:"id",value:c.id,required:!0}),Object(U.jsx)("textarea",{className:F.a.formTextarea,onChange:i,placeholder:"Description",type:"text",name:"description",value:c.description,required:!0}),Object(U.jsx)("button",{className:"".concat(F.a.formBtn," ").concat(F.a.margin),type:"submit",children:"Save"}),Object(U.jsx)("button",{className:F.a.formBtn,type:"reset",children:"Clear"})]})]})},ne=n(9),re=n.n(ne);var ae=function(e){var t=Object(J.c)(Q),n=(Object(J.c)($),t.filter((function(e){return"Available"===e.status}))),r=t.filter((function(e){return"Busy"===e.status})),a=(t.reduce((function(e,t){return e+t.price}),0)/t.length).toFixed(2);return Object(U.jsxs)("div",{className:re.a.statBox,children:[Object(U.jsx)("h2",{className:re.a.caption,children:"Statistic"}),Object(U.jsxs)("p",{className:re.a.statContent,children:["Total Bikes: ",Object(U.jsx)("span",{className:re.a.number,children:null===t||void 0===t?void 0:t.length})]}),Object(U.jsxs)("p",{className:re.a.statContent,children:["Available Bikes: ",Object(U.jsx)("span",{className:re.a.number,children:n.length})]}),Object(U.jsxs)("p",{className:re.a.statContent,children:["Booked Bikes: ",Object(U.jsx)("span",{className:re.a.number,children:r.length})]}),Object(U.jsxs)("p",{className:re.a.statContent,children:["Average bike cost: ",Object(U.jsx)("span",{className:re.a.number,children:a})," UAH/hr"]})]})};function ce(){return(ce=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function se(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var ie=s.createElement("path",{d:"M9 9L1 1M9 1L1 9",strokeWidth:2,strokeLinecap:"round"});function ue(e,t){var n=e.title,r=e.titleId,a=se(e,["title","titleId"]);return s.createElement("svg",ce({width:10,height:10,viewBox:"0 0 10 10",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":r},a),n?s.createElement("title",{id:r},n):null,ie)}var oe=s.forwardRef(ue),le=(n.p,n(11)),pe=n.n(le);var be=function(e){var t=Object(J.b)(),n=e.bike,r=n._id,a=n.id,c=n.name,i=n.type,u=n.color,o=n.price,l=(n.status,Object(s.useCallback)((function(e){return t(function(e){return function(){var t=Object(K.a)(z.a.mark((function t(n){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(y()),t.prev=1,t.next=4,Y.deleteBike(X,e);case 4:n(B(e)),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(1),n(w(t.t0.message));case 10:case"end":return t.stop()}}),t,null,[[1,7]])})));return function(e){return t.apply(this,arguments)}}()}(e))}),[]));return Object(U.jsxs)("li",{className:pe.a.availableListItem,children:[Object(U.jsxs)("p",{className:pe.a.nameTag,children:[Object(U.jsx)("span",{className:pe.a.name,children:c})," - ",i,"(",u,")"]}),Object(U.jsxs)("p",{className:pe.a.id,children:["ID: ",a]}),Object(U.jsxs)("p",{className:pe.a.price,children:[o," UAH/hr"]}),Object(U.jsx)("button",{className:pe.a.btnDelete,type:"button",onClick:function(){return l(r)},children:Object(U.jsx)(oe,{className:pe.a.btnDeleteIcon})}),Object(U.jsxs)("div",{children:[Object(U.jsx)("p",{className:pe.a.statusCaption,children:"Status :"}),Object(U.jsxs)("select",{className:pe.a.statusSelect,defaultValue:"Available",onChange:function(e){return t(function(e,t){return function(){var n=Object(K.a)(z.a.mark((function n(r){var a,c,s;return z.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a={status:e},r(k()),n.prev=2,n.next=5,Y.patch(X,a,t);case 5:c=n.sent,s=c.data,r(_(s)),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(2),r(g(n.t0.message));case 13:case"end":return n.stop()}}),n,null,[[2,10]])})));return function(e){return n.apply(this,arguments)}}()}(e.target.value,r))},children:[Object(U.jsx)("option",{value:"Available",children:"Available"}),Object(U.jsx)("option",{value:"Busy",children:"Busy"}),Object(U.jsx)("option",{value:"Unavailable",children:"Unavailable"})]})]})]})},de=n(33),je=n.n(de);var he=function(e){var t=Object(J.b)(),n=Object(J.c)(Q),r=Object(J.c)($);return Object(s.useEffect)((function(){t(function(){var e=Object(K.a)(z.a.mark((function e(t){var n,r;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(h()),e.prev=1,e.next=4,Y.getAllBike(X);case 4:n=e.sent,r=n.data.result,t(f(r)),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0),t(v(e.t0.message));case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}())}),[t]),Object(U.jsx)("div",{children:Object(U.jsx)("ul",{className:je.a.bikeList,children:r?Object(U.jsx)("p",{children:"Loading..."}):null===n||void 0===n?void 0:n.map((function(e){return Object(U.jsx)(be,{bike:e},e.id)}))})})},fe=n(34),ve=n.n(fe);var me=function(e){return Object(U.jsx)("header",{className:ve.a.header,children:Object(U.jsx)("h1",{children:"ADMIN.BIKE-BOOKING.COM"})})},Oe=n(20),xe=n.n(Oe);var ke=function(e){return Object(U.jsx)("footer",{className:xe.a.footer,children:Object(U.jsxs)("p",{className:xe.a.footerText,children:["Developer: ",Object(U.jsx)("span",{className:xe.a.nameDev,children:"Vladislaw Zaychenko"})]})})};var _e=function(){return Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)(me,{}),Object(U.jsxs)("div",{style:{display:"flex"},children:[Object(U.jsx)("div",{style:{width:"100%",padding:"9px",borderRight:"1px solid #C4C4C4"},children:Object(U.jsx)(he,{})}),Object(U.jsxs)("div",{style:{width:"100%"},children:[Object(U.jsx)(te,{}),Object(U.jsx)(ae,{})]})]}),Object(U.jsx)(ke,{})]})};o.a.render(Object(U.jsx)(i.a.StrictMode,{children:Object(U.jsx)(J.a,{store:A,children:Object(U.jsx)(_e,{})})}),document.getElementById("root"))},9:function(e,t,n){e.exports={statBox:"Statistic_statBox__W2pak",caption:"Statistic_caption__kxLtC",statContent:"Statistic_statContent__3J03w",number:"Statistic_number__1JDJr"}}},[[68,1,2]]]);
//# sourceMappingURL=main.e3354897.chunk.js.map