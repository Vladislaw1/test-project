(this["webpackJsonptest-project"]=this["webpackJsonptest-project"]||[]).push([[0],{11:function(e,t,n){e.exports={availableListItem:"BikesListItem_availableListItem__iJPBq",nameTag:"BikesListItem_nameTag__MKdL_",name:"BikesListItem_name__z9P7A",id:"BikesListItem_id__2VmJz",price:"BikesListItem_price__2opKV",btnDelete:"BikesListItem_btnDelete__2yJf9",btnDeleteIcon:"BikesListItem_btnDeleteIcon__30JLe"}},32:function(e,t,n){e.exports={bikeList:"BikesList_bikeList__1xVJe"}},33:function(e,t,n){e.exports={header:"Header_header__3D--g"}},34:function(e,t,n){e.exports={footer:"Footer_footer__2nkco"}},42:function(e,t,n){},43:function(e,t,n){},6:function(e,t,n){e.exports={form:"FormAddBike_form__vfJwm",formInput:"FormAddBike_formInput__2WZsd",formTextarea:"FormAddBike_formTextarea__2ibIH",formBtn:"FormAddBike_formBtn__1bT-G",margin:"FormAddBike_margin__KBXAt"}},68:function(e,t,n){"use strict";n.r(t);var r,a,c,s=n(1),i=n.n(s),u=n(15),o=n.n(u),l=n(3),p=n(12),b=n(4),d=n(36),j=n(10),h=Object(l.b)("getAllBikeRequest"),f=Object(l.b)("getAllBikeSuccess"),v=Object(l.b)("getAllBikeError"),m=Object(l.b)("addNewBikeRequest"),O=Object(l.b)("addNewBikeSuccess"),x=Object(l.b)("addNewBikeError"),k=Object(l.b)("updateBikeRequest"),g=Object(l.b)("updateBikeSuccess"),y=Object(l.b)("updateBikeError"),_=Object(l.b)("deleteBikeRequest"),B=Object(l.b)("deleteBikeSuccess"),w=Object(l.b)("deleteBikeError"),N=Object(l.c)([],(r={},Object(b.a)(r,f,(function(e,t){return t.payload})),Object(b.a)(r,O,(function(e,t){var n=t.payload;return[].concat(Object(d.a)(e),[n])})),Object(b.a)(r,g,(function(e,t){var n=t.payload,r=e.findIndex((function(e){return e.id===n.result.id}));-1!==r&&(e[r]=n.result)})),Object(b.a)(r,B,(function(e,t){return t.payload})),r)),I=Object(l.c)(!1,(a={},Object(b.a)(a,h,(function(){return!0})),Object(b.a)(a,f,(function(){return!1})),Object(b.a)(a,v,(function(){return!1})),Object(b.a)(a,_,(function(){return!0})),Object(b.a)(a,B,(function(){return!1})),Object(b.a)(a,w,(function(){return!1})),a)),L=Object(l.c)(null,(c={},Object(b.a)(c,v,(function(e,t){return t.payload})),Object(b.a)(c,x,(function(e,t){return t.payload})),c)),A=Object(j.b)({bikes:N,loading:I,error:L}),C=Object(l.d)(p.a),S=Object(l.a)({reducer:{bikes:A},middleware:C}),E=(n(42),n(43),n(19)),D=n(22),q=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},n=Object(s.useState)(e),r=Object(E.a)(n,2),a=r[0],c=r[1],i=function(e){var t=e.target,n=t.name,r=t.value;c(Object(D.a)(Object(D.a)({},a),{},Object(b.a)({},n,r)))},u=function(e){e.preventDefault(),t(a),o()};function o(){c(e)}return[a,i,u]},J={id:"",name:"",type:"",color:"",wheelSize:"",price:0,description:""},R=n(6),T=n.n(R),U=n(8),F=n(0);var z=n(2),M=n.n(z),P=n(5),K=n(17),H=n(18),V=n(37),W=n(35),G=n(14),Z=n.n(G),X="api/v1/bikes",Q=new(function(e){Object(V.a)(n,e);var t=Object(W.a)(n);function n(){return Object(K.a)(this,n),t.apply(this,arguments)}return Object(H.a)(n,[{key:"getAllBike",value:function(){var e=Object(P.a)(M.a.mark((function e(t){var n;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.get(t);case 3:return n=e.sent,e.abrupt("return",n);case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"addBike",value:function(){var e=Object(P.a)(M.a.mark((function e(t,n){var r;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.post(t,n);case 3:return r=e.sent,e.abrupt("return",r);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateBike",value:function(){var e=Object(P.a)(M.a.mark((function e(t,n,r){var a;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.put(t,n,r);case 3:return a=e.sent,e.abrupt("return",a);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"deleteBike",value:function(){var e=Object(P.a)(M.a.mark((function e(t,n){var r;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.delete(t,n);case 3:return r=e.sent,e.abrupt("return",r);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}()}]),n}(function(){function e(){Object(K.a)(this,e),this.BASE_URL="https://backand-bikes.herokuapp.com"}return Object(H.a)(e,[{key:"get",value:function(){var e=Object(P.a)(M.a.mark((function e(){var t,n,r,a=arguments;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:"",e.prev=1,e.next=4,Z.a.get("".concat(this.BASE_URL,"/").concat(t));case 4:return n=e.sent,r=n.data,e.abrupt("return",r);case 9:e.prev=9,e.t0=e.catch(1),this.handleError(e.t0);case 12:case"end":return e.stop()}}),e,this,[[1,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"post",value:function(){var e=Object(P.a)(M.a.mark((function e(){var t,n,r,a,c=arguments;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:"",n=c.length>1?c[1]:void 0,e.prev=2,e.next=5,Z.a.post("".concat(this.BASE_URL,"/").concat(t),n);case 5:return r=e.sent,a=r.data,console.log(a),e.abrupt("return",a);case 11:e.prev=11,e.t0=e.catch(2),this.handleError(e.t0);case 14:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(){return e.apply(this,arguments)}}()},{key:"patch",value:function(){var e=Object(P.a)(M.a.mark((function e(){var t,n,r,a,c,s=arguments;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.length>0&&void 0!==s[0]?s[0]:"",n=s.length>1?s[1]:void 0,r=s.length>2?s[2]:void 0,e.prev=3,e.next=6,Z.a.patch("".concat(this.BASE_URL,"/").concat(t,"/").concat(r),n);case 6:return a=e.sent,c=a.data,e.abrupt("return",c);case 11:e.prev=11,e.t0=e.catch(3),this.handleError(e.t0);case 14:case"end":return e.stop()}}),e,this,[[3,11]])})));return function(){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Object(P.a)(M.a.mark((function e(){var t,n,r,a,c=arguments;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:"",n=c.length>1?c[1]:void 0,e.prev=2,e.next=5,Z.a.delete("".concat(this.BASE_URL,"/").concat(t,"/").concat(n));case 5:return r=e.sent,a=r.data,e.abrupt("return",a);case 10:e.prev=10,e.t0=e.catch(2),this.handleError(e.t0);case 13:case"end":return e.stop()}}),e,this,[[2,10]])})));return function(){return e.apply(this,arguments)}}()},{key:"handleError",value:function(e){if(401!==e.response.data.statusCode)throw e}}]),e}()));var Y=function(){var e=Object(U.b)(),t=q(J,(function(t){return e((n=t,function(){var e=Object(P.a)(M.a.mark((function e(t){var r,a;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(m()),e.prev=1,e.next=4,Q.addBike("api/v1/bikes",n);case 4:r=e.sent,a=r.data.result,t(O(a)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),t(x(e.t0.message));case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()));var n})),n=Object(E.a)(t,3),r=n[0],a=n[1],c=n[2];return Object(F.jsx)("div",{style:{padding:"10px"},children:Object(F.jsxs)("form",{onSubmit:c,className:T.a.form,children:[Object(F.jsx)("input",{className:"".concat(T.a.formInput," ").concat(T.a.margin),onChange:a,placeholder:"Name",type:"text",name:"name",value:r.name,required:!0}),Object(F.jsx)("input",{className:T.a.formInput,onChange:a,placeholder:"Type",type:"text",name:"type",value:r.type,required:!0}),Object(F.jsx)("input",{className:"".concat(T.a.formInput," ").concat(T.a.margin),onChange:a,placeholder:"Color",type:"text",name:"color",value:r.color,required:!0}),Object(F.jsx)("input",{className:T.a.formInput,onChange:a,placeholder:"Wheel size",type:"number",name:"wheelSize",value:r.wheelSize,required:!0}),Object(F.jsx)("input",{className:"".concat(T.a.formInput," ").concat(T.a.margin),onChange:a,placeholder:"Price",type:"number",name:"price",value:r.price,required:!0}),Object(F.jsx)("input",{className:T.a.formInput,onChange:a,placeholder:"ID (slug): \u0425\u0425\u0425\u0425\u0425\u0425\u0425\u0425\u0425\u0425\u0425\u0425\u0425",type:"number",name:"id",value:r.id,required:!0}),Object(F.jsx)("textarea",{className:T.a.formTextarea,onChange:a,placeholder:"Description",type:"text",name:"description",value:r.description,required:!0}),Object(F.jsx)("button",{className:"".concat(T.a.formBtn," ").concat(T.a.margin),type:"submit",children:"Save"}),Object(F.jsx)("button",{className:T.a.formBtn,type:"reset",children:"Clear"})]})})},$=function(e){return e.bikes.bikes},ee=function(e){return e.bikes.loading},te=n(9),ne=n.n(te);var re=function(e){var t=Object(U.c)($),n=(Object(U.c)(ee),t.filter((function(e){return"Available"===e.status}))),r=t.filter((function(e){return"Busy"===e.status})),a=t.reduce((function(e,t){return e+t.price}),0)/t.length;return Object(F.jsxs)("div",{className:ne.a.statBox,children:[Object(F.jsx)("h2",{className:ne.a.caption,children:"Statistic"}),Object(F.jsxs)("p",{className:ne.a.statContent,children:["Total Bikes: ",Object(F.jsx)("span",{className:ne.a.number,children:null===t||void 0===t?void 0:t.length})]}),Object(F.jsxs)("p",{className:ne.a.statContent,children:["Available Bikes: ",Object(F.jsx)("span",{className:ne.a.number,children:n.length})]}),Object(F.jsxs)("p",{className:ne.a.statContent,children:["Booked Bikes: ",Object(F.jsx)("span",{className:ne.a.number,children:r.length})]}),Object(F.jsxs)("p",{className:ne.a.statContent,children:["Average bike cost: ",Object(F.jsx)("span",{className:ne.a.number,children:a})," UAH/hr"]})]})};function ae(){return(ae=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ce(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var se=s.createElement("path",{d:"M9 9L1 1M9 1L1 9",strokeWidth:2,strokeLinecap:"round"});function ie(e,t){var n=e.title,r=e.titleId,a=ce(e,["title","titleId"]);return s.createElement("svg",ae({width:10,height:10,viewBox:"0 0 10 10",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":r},a),n?s.createElement("title",{id:r},n):null,se)}var ue=s.forwardRef(ie),oe=(n.p,n(11)),le=n.n(oe);var pe=function(e){var t=Object(U.b)(),n=e.bike,r=n._id,a=n.id,c=n.name,s=n.type,i=n.color,u=n.price,o=n.status;function l(e){t(function(e){return function(){var t=Object(P.a)(M.a.mark((function t(n){var r,a;return M.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(_()),t.prev=1,t.next=4,Q.deleteBike(X,e);case 4:r=t.sent,a=r.data,console.log(a),n(B(a.result)),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),n(w(t.t0.message));case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}()}(e))}return Object(F.jsxs)("li",{className:le.a.availableListItem,children:[Object(F.jsxs)("p",{className:le.a.nameTag,children:[Object(F.jsx)("span",{className:le.a.name,children:c})," - ",s,"(",i,")"]}),Object(F.jsxs)("p",{className:le.a.id,children:["ID - ",a]}),Object(F.jsxs)("p",{className:le.a.price,children:[u," UAH/hr"]}),Object(F.jsx)("button",{className:le.a.btnDelete,type:"button",onClick:function(){return l(r)},children:Object(F.jsx)(ue,{className:le.a.btnDeleteIcon})}),Object(F.jsxs)("select",{value:o,onChange:function(e){return t(function(e,t){return function(){var n=Object(P.a)(M.a.mark((function n(r){var a,c,s;return M.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a={status:e},r(k()),n.prev=2,n.next=5,Q.patch(X,a,t);case 5:c=n.sent,s=c.data,r(g(s)),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(2),r(y(n.t0.message));case 13:case"end":return n.stop()}}),n,null,[[2,10]])})));return function(e){return n.apply(this,arguments)}}()}(e.target.value,r))},children:[Object(F.jsx)("option",{selected:!0,value:"Available",children:"Available"}),Object(F.jsx)("option",{value:"Busy",children:"Busy"}),Object(F.jsx)("option",{value:"Unavailable",children:"Unavailable"})]})]})},be=n(32),de=n.n(be);var je=function(e){var t=Object(U.b)(),n=Object(U.c)($),r=Object(U.c)(ee);return Object(s.useEffect)((function(){t(function(){var e=Object(P.a)(M.a.mark((function e(t){var n,r;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(h()),e.prev=1,e.next=4,Q.getAllBike(X);case 4:n=e.sent,r=n.data.result,t(f(r)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),t(v(e.t0.message));case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}())}),[t]),Object(F.jsx)("div",{children:Object(F.jsx)("ul",{className:de.a.bikeList,children:r?Object(F.jsx)("p",{children:"Loading..."}):null===n||void 0===n?void 0:n.map((function(e){return Object(F.jsx)(pe,{bike:e},e.id)}))})})},he=n(33),fe=n.n(he);var ve=function(e){return Object(F.jsx)("header",{className:fe.a.header,children:Object(F.jsx)("h1",{children:"ADMIN.BIKE-BOOKING.COM"})})},me=n(34),Oe=n.n(me);var xe=function(e){return Object(F.jsx)("footer",{className:Oe.a.footer,children:Object(F.jsx)("p",{children:"Developer: Vladislaw Zaychenko"})})};var ke=function(){return Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)(ve,{}),Object(F.jsxs)("div",{style:{display:"flex"},children:[Object(F.jsx)("div",{style:{width:"100%",padding:"9px",borderRight:"1px solid #C4C4C4"},children:Object(F.jsx)(je,{})}),Object(F.jsxs)("div",{style:{width:"100%"},children:[Object(F.jsx)(Y,{}),Object(F.jsx)(re,{})]})]}),Object(F.jsx)(xe,{})]})};o.a.render(Object(F.jsx)(i.a.StrictMode,{children:Object(F.jsx)(U.a,{store:S,children:Object(F.jsx)(ke,{})})}),document.getElementById("root"))},9:function(e,t,n){e.exports={statBox:"Statistic_statBox__W2pak",caption:"Statistic_caption__kxLtC",statContent:"Statistic_statContent__3J03w",number:"Statistic_number__1JDJr"}}},[[68,1,2]]]);
//# sourceMappingURL=main.271ddcd9.chunk.js.map