(this["webpackJsonptest-project"]=this["webpackJsonptest-project"]||[]).push([[0],{10:function(e,t,n){e.exports={statBox:"Statistic_statBox__W2pak",caption:"Statistic_caption__kxLtC",statContent:"Statistic_statContent__3J03w",number:"Statistic_number__1JDJr"}},12:function(e,t,n){e.exports={availableListItem:"BikesListItem_availableListItem__iJPBq",nameTag:"BikesListItem_nameTag__MKdL_",name:"BikesListItem_name__z9P7A",id:"BikesListItem_id__2VmJz",statusCaption:"BikesListItem_statusCaption__2vwYW",statusSelect:"BikesListItem_statusSelect__2M1hK",price:"BikesListItem_price__2opKV",btnDelete:"BikesListItem_btnDelete__2yJf9",btnDeleteIcon:"BikesListItem_btnDeleteIcon__30JLe"}},21:function(e,t,n){e.exports={footer:"Footer_footer__2nkco",footerText:"Footer_footerText__3FgyC",nameDev:"Footer_nameDev__1GHTR"}},22:function(e,t,n){e.exports={mainContent:"Main_mainContent__3gtFO",mainContentBikeList:"Main_mainContentBikeList__10G9k",mainContentStatisticAndForm:"Main_mainContentStatisticAndForm__3JpPl"}},34:function(e,t,n){e.exports={header:"Header_header__3D--g"}},35:function(e,t,n){e.exports={bikeList:"BikesList_bikeList__1xVJe"}},43:function(e,t,n){},6:function(e,t,n){e.exports={form:"FormAddBike_form__vfJwm",formInput:"FormAddBike_formInput__2WZsd",formTextarea:"FormAddBike_formTextarea__2ibIH",formBtn:"FormAddBike_formBtn__1bT-G",margin:"FormAddBike_margin__KBXAt",error:"FormAddBike_error__2xkNS",errorIcon:"FormAddBike_errorIcon__1cNUg"}},68:function(e,t,n){"use strict";n.r(t);var r,a,c,i=n(1),s=n.n(i),o=n(16),u=n.n(o),l=n(3),p=n(13),b=n(4),j=n(37),d=n(11),f=Object(l.b)("getAllBikeRequest"),h=Object(l.b)("getAllBikeSuccess"),m=Object(l.b)("getAllBikeError"),v=Object(l.b)("addNewBikeRequest"),O=Object(l.b)("addNewBikeSuccess"),x=Object(l.b)("addNewBikeError"),k=Object(l.b)("updateBikeRequest"),_=Object(l.b)("updateBikeSuccess"),g=Object(l.b)("updateBikeError"),y=Object(l.b)("deleteBikeRequest"),B=Object(l.b)("deleteBikeSuccess"),w=Object(l.b)("deleteBikeError"),N=Object(l.c)([],(r={},Object(b.a)(r,h,(function(e,t){return t.payload})),Object(b.a)(r,O,(function(e,t){var n=t.payload;return[].concat(Object(j.a)(e),[n])})),Object(b.a)(r,_,(function(e,t){var n=t.payload,r=e.findIndex((function(e){return e.id===n.result.id}));-1!==r&&(e[r]=n.result)})),Object(b.a)(r,B,(function(e,t){var n=t.payload,r=e.findIndex((function(e){return e._id===n}));-1!==r&&e.splice(r,1)})),r)),I=Object(l.c)(!1,(a={},Object(b.a)(a,f,(function(){return!0})),Object(b.a)(a,h,(function(){return!1})),Object(b.a)(a,m,(function(){return!1})),Object(b.a)(a,y,(function(){return!0})),Object(b.a)(a,B,(function(){return!1})),Object(b.a)(a,w,(function(){return!1})),a)),L=Object(l.c)(null,(c={},Object(b.a)(c,h,(function(e,t){t.payload;return null})),Object(b.a)(c,m,(function(e,t){return t.payload})),Object(b.a)(c,O,(function(e,t){t.payload;return null})),Object(b.a)(c,x,(function(e,t){return t.payload})),c)),A=Object(d.b)({bikes:N,loading:I,error:L}),C=Object(l.d)(p.a),S=Object(l.a)({reducer:{bikes:A},middleware:C}),E=(n(43),n(34)),q=n.n(E),D=n(0);var F=function(e){return Object(D.jsx)("header",{className:q.a.header,children:Object(D.jsx)("h1",{children:"ADMIN.BIKE-BOOKING.COM"})})},T=n(21),J=n.n(T);var M=function(e){return Object(D.jsx)("footer",{className:J.a.footer,children:Object(D.jsxs)("p",{className:J.a.footerText,children:["Developer: ",Object(D.jsx)("span",{className:J.a.nameDev,children:"Vladislaw Zaychenko"})]})})},R=n(9),P=n(2),U=n.n(P),z=n(7),K=n(18),H=n(19),V=n(38),W=n(36),Z=n(15),G=n.n(Z),X="api/v1/bikes",Y=new(function(e){Object(V.a)(n,e);var t=Object(W.a)(n);function n(){return Object(K.a)(this,n),t.apply(this,arguments)}return Object(H.a)(n,[{key:"getAllBike",value:function(){var e=Object(z.a)(U.a.mark((function e(t){var n;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.get(t);case 3:return n=e.sent,e.abrupt("return",n);case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"addBike",value:function(){var e=Object(z.a)(U.a.mark((function e(t,n){var r;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.post(t,n);case 3:return r=e.sent,e.abrupt("return",r);case 7:throw e.prev=7,e.t0=e.catch(0),e.t0;case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateBike",value:function(){var e=Object(z.a)(U.a.mark((function e(t,n,r){var a;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.patch(t,n,r);case 3:return a=e.sent,e.abrupt("return",a);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"deleteBike",value:function(){var e=Object(z.a)(U.a.mark((function e(t,n){var r;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.delete(t,n);case 3:return r=e.sent,e.abrupt("return",r);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}()}]),n}(function(){function e(){Object(K.a)(this,e),this.BASE_URL="https://backand-bikes.herokuapp.com"}return Object(H.a)(e,[{key:"get",value:function(){var e=Object(z.a)(U.a.mark((function e(){var t,n,r,a=arguments;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:"",e.prev=1,e.next=4,G.a.get("".concat(this.BASE_URL,"/").concat(t));case 4:return n=e.sent,r=n.data,e.abrupt("return",r);case 9:return e.prev=9,e.t0=e.catch(1),e.abrupt("return",this.handleError(e.t0));case 12:case"end":return e.stop()}}),e,this,[[1,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"post",value:function(){var e=Object(z.a)(U.a.mark((function e(){var t,n,r,a,c=arguments;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:"",n=c.length>1?c[1]:void 0,e.prev=2,e.next=5,G.a.post("".concat(this.BASE_URL,"/").concat(t),n);case 5:return r=e.sent,a=r.data,e.abrupt("return",a);case 10:throw e.prev=10,e.t0=e.catch(2),this.handleError(e.t0);case 13:case"end":return e.stop()}}),e,this,[[2,10]])})));return function(){return e.apply(this,arguments)}}()},{key:"patch",value:function(){var e=Object(z.a)(U.a.mark((function e(){var t,n,r,a,c,i=arguments;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.length>0&&void 0!==i[0]?i[0]:"",n=i.length>1?i[1]:void 0,r=i.length>2?i[2]:void 0,e.prev=3,e.next=6,G.a.patch("".concat(this.BASE_URL,"/").concat(t,"/").concat(r),n);case 6:return a=e.sent,c=a.data,e.abrupt("return",c);case 11:e.prev=11,e.t0=e.catch(3),this.handleError(e.t0);case 14:case"end":return e.stop()}}),e,this,[[3,11]])})));return function(){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Object(z.a)(U.a.mark((function e(){var t,n,r,a,c=arguments;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:"",n=c.length>1?c[1]:void 0,e.prev=2,e.next=5,G.a.delete("".concat(this.BASE_URL,"/").concat(t,"/").concat(n));case 5:return r=e.sent,a=r.data,e.abrupt("return",a);case 10:e.prev=10,e.t0=e.catch(2),this.handleError(e.t0);case 13:case"end":return e.stop()}}),e,this,[[2,10]])})));return function(){return e.apply(this,arguments)}}()},{key:"handleError",value:function(e){if(401!==e.response.data.statusCode)throw e}}]),e}()));function Q(){return(Q=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function $(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var ee=i.createElement("path",{d:"M9 9L1 1M9 1L1 9",strokeWidth:2,strokeLinecap:"round"});function te(e,t){var n=e.title,r=e.titleId,a=$(e,["title","titleId"]);return i.createElement("svg",Q({width:10,height:10,viewBox:"0 0 10 10",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":r},a),n?i.createElement("title",{id:r},n):null,ee)}var ne=i.forwardRef(te),re=(n.p,n(12)),ae=n.n(re);var ce=function(e){var t=Object(R.b)(),n=e.bike,r=n._id,a=n.id,c=n.name,s=n.type,o=n.color,u=n.price,l=n.status,p=Object(i.useCallback)((function(e){return t(function(e){return function(){var t=Object(z.a)(U.a.mark((function t(n){return U.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(y()),t.prev=1,t.next=4,Y.deleteBike(X,e);case 4:n(B(e)),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(1),n(w(t.t0.message));case 10:case"end":return t.stop()}}),t,null,[[1,7]])})));return function(e){return t.apply(this,arguments)}}()}(e))}),[t]);return Object(D.jsxs)("li",{className:ae.a.availableListItem,children:[Object(D.jsxs)("p",{className:ae.a.nameTag,children:[Object(D.jsx)("span",{className:ae.a.name,children:c})," - ",s,"(",o,")"]}),Object(D.jsxs)("p",{className:ae.a.id,children:["ID: ",a]}),Object(D.jsxs)("p",{className:ae.a.price,children:[u," UAH/hr"]}),Object(D.jsx)("button",{className:ae.a.btnDelete,type:"button",onClick:function(){return p(r)},children:Object(D.jsx)(ne,{className:ae.a.btnDeleteIcon})}),Object(D.jsxs)("div",{children:[Object(D.jsx)("p",{className:ae.a.statusCaption,children:"Status :"}),Object(D.jsxs)("select",{className:ae.a.statusSelect,defaultValue:l,onChange:function(e){return t(function(e,t){return function(){var n=Object(z.a)(U.a.mark((function n(r){var a,c,i;return U.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a={status:e},r(k()),n.prev=2,n.next=5,Y.patch(X,a,t);case 5:c=n.sent,i=c.data,r(_(i)),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(2),r(g(n.t0.message));case 13:case"end":return n.stop()}}),n,null,[[2,10]])})));return function(e){return n.apply(this,arguments)}}()}(e.target.value,r))},children:[Object(D.jsx)("option",{value:"Available",children:"Available"}),Object(D.jsx)("option",{value:"Busy",children:"Busy"}),Object(D.jsx)("option",{value:"Unavailable",children:"Unavailable"})]})]})]})},ie=function(e){return e.bikes.bikes},se=function(e){return e.bikes.loading},oe=function(e){return e.bikes.error},ue=n(35),le=n.n(ue);var pe=function(e){var t=Object(R.b)(),n=Object(R.c)(ie),r=Object(R.c)(se);return Object(i.useEffect)((function(){t(function(){var e=Object(z.a)(U.a.mark((function e(t){var n,r;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(f()),e.prev=1,e.next=4,Y.getAllBike(X);case 4:n=e.sent,r=n.data.result,t(h(r)),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0),t(m(e.t0.message));case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}())}),[t]),Object(D.jsx)("div",{children:Object(D.jsx)("ul",{className:le.a.bikeList,children:r?Object(D.jsx)("p",{children:"Loading..."}):null===n||void 0===n?void 0:n.map((function(e){return Object(D.jsx)(ce,{bike:e},e.id)}))})})},be=n(5),je=n(20),de=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},n=Object(i.useState)(e),r=Object(je.a)(n,2),a=r[0],c=r[1],s=function(e){var t=e.target,n=t.name,r=t.value;c(Object(be.a)(Object(be.a)({},a),{},Object(b.a)({},n,r)))},o=function(e){e.preventDefault(),t(a),u()};function u(){c(e)}return[a,u,s,o]},fe={id:"",name:"",type:"",color:"",wheelSize:"",price:"",description:""},he={type:"text",name:"name",placeholder:"Name",require:"require"},me={type:"text",name:"type",placeholder:"Type",require:"require"},ve={type:"text",name:"color",placeholder:"Color",require:"require"},Oe={type:"text",name:"wheelSize",placeholder:"Wheel size",require:"require"},xe={type:"text",name:"price",placeholder:"Price",require:"require"},ke={type:"text",name:"id",placeholder:"ID (slug): \u0425\u0425\u0425\u0425\u0425\u0425\u0425\u0425\u0425\u0425\u0425\u0425\u0425",require:"require"},_e={type:"text",name:"description",placeholder:"Description",require:"require"};function ge(){return(ge=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ye(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var Be=i.createElement("path",{d:"M64,0a64,64,0,1,0,64,64A64.07,64.07,0,0,0,64,0Zm0,122a58,58,0,1,1,58-58A58.07,58.07,0,0,1,64,122Z"}),we=i.createElement("path",{d:"M92.12,35.79a3,3,0,0,0-4.24,0L64,59.75l-23.87-24A3,3,0,0,0,35.88,40L59.76,64,35.88,88a3,3,0,0,0,4.25,4.24L64,68.25l23.88,24A3,3,0,0,0,92.13,88L68.24,64,92.13,40A3,3,0,0,0,92.12,35.79Z"});function Ne(e,t){var n=e.title,r=e.titleId,a=ye(e,["title","titleId"]);return i.createElement("svg",ge({"data-name":"Livello 1",id:"Livello_1",viewBox:"0 0 128 128",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":r},a),n?i.createElement("title",{id:r},n):null,Be,we)}var Ie=i.forwardRef(Ne),Le=(n.p,n(6)),Ae=n.n(Le);var Ce=function(){var e=Object(R.b)(),t=Object(R.c)(oe),n=Object(i.useCallback)((function(t){return e((n=t,function(){var e=Object(z.a)(U.a.mark((function e(t){var r,a,c;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(v()),e.prev=1,e.next=4,Y.addBike(X,n);case 4:r=e.sent,a=r.data.result,t(O(a)),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),c=e.t0.response.data.message,t(x(c));case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()));var n}),[e]),r=de(fe,n),a=Object(je.a)(r,4),c=a[0],s=a[1],o=a[2],u=a[3];return Object(D.jsxs)("div",{style:{padding:"10px",textAlign:"center"},children:[t&&Object(D.jsxs)("p",{className:Ae.a.error,children:[Object(D.jsx)(Ie,{className:Ae.a.errorIcon}),t]}),Object(D.jsxs)("form",{onSubmit:u,className:Ae.a.form,children:[Object(D.jsx)("input",Object(be.a)({className:"".concat(Ae.a.formInput," ").concat(Ae.a.margin),onChange:o,value:c.name},he)),Object(D.jsx)("input",Object(be.a)(Object(be.a)({className:Ae.a.formInput,onChange:o},me),{},{value:c.type})),Object(D.jsx)("input",Object(be.a)(Object(be.a)({className:"".concat(Ae.a.formInput," ").concat(Ae.a.margin),onChange:o},ve),{},{value:c.color})),Object(D.jsx)("input",Object(be.a)(Object(be.a)({className:Ae.a.formInput,onChange:o},Oe),{},{value:c.wheelSize})),Object(D.jsx)("input",Object(be.a)(Object(be.a)({className:"".concat(Ae.a.formInput," ").concat(Ae.a.margin),onChange:o},xe),{},{value:c.price})),Object(D.jsx)("input",Object(be.a)(Object(be.a)({className:Ae.a.formInput,onChange:o},ke),{},{value:c.id})),Object(D.jsx)("textarea",Object(be.a)(Object(be.a)({className:Ae.a.formTextarea,onChange:o},_e),{},{value:c.description})),Object(D.jsx)("button",{className:"".concat(Ae.a.formBtn," ").concat(Ae.a.margin),type:"submit",children:"Save"}),Object(D.jsx)("button",{className:Ae.a.formBtn,type:"button",onClick:s,children:"Clear"})]})]})},Se=n(10),Ee=n.n(Se);var qe=function(e){var t=Object(R.c)(ie),n=t.filter((function(e){return"Available"===e.status})),r=t.filter((function(e){return"Busy"===e.status})),a=(t.reduce((function(e,t){return e+t.price}),0)/t.length).toFixed(2);return Object(D.jsxs)("div",{className:Ee.a.statBox,children:[Object(D.jsx)("h2",{className:Ee.a.caption,children:"Statistic"}),Object(D.jsxs)("p",{className:Ee.a.statContent,children:["Total Bikes: ",Object(D.jsx)("span",{className:Ee.a.number,children:null===t||void 0===t?void 0:t.length})]}),Object(D.jsxs)("p",{className:Ee.a.statContent,children:["Available Bikes: ",Object(D.jsx)("span",{className:Ee.a.number,children:n.length})]}),Object(D.jsxs)("p",{className:Ee.a.statContent,children:["Booked Bikes: ",Object(D.jsx)("span",{className:Ee.a.number,children:r.length})]}),Object(D.jsxs)("p",{className:Ee.a.statContent,children:["Average bike cost: ",Object(D.jsx)("span",{className:Ee.a.number,children:a})," UAH/hr"]})]})},De=n(22),Fe=n.n(De);var Te=function(e){return Object(D.jsxs)("div",{className:Fe.a.mainContent,children:[Object(D.jsx)("div",{className:Fe.a.mainContentBikeList,children:Object(D.jsx)(pe,{})}),Object(D.jsxs)("div",{className:Fe.a.mainContentStatisticAndForm,children:[Object(D.jsx)(Ce,{}),Object(D.jsx)(qe,{})]})]})};var Je=function(){return Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)(F,{}),Object(D.jsx)(Te,{}),Object(D.jsx)(M,{})]})};u.a.render(Object(D.jsx)(s.a.StrictMode,{children:Object(D.jsx)(R.a,{store:S,children:Object(D.jsx)(Je,{})})}),document.getElementById("root"))}},[[68,1,2]]]);
//# sourceMappingURL=main.e2fbbb6a.chunk.js.map